!function(){"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("waving-dots-3d-background");if(e&&"transferControlToOffscreen"in e&&"undefined"!=typeof Worker)try{const n=e.transferControlToOffscreen(),t=new Worker("animation.worker.bundle.js",{type:"module"});t.postMessage({canvas:n,width:window.innerWidth,height:window.innerHeight,pixelRatio:window.devicePixelRatio,theme:document.body.classList.contains("light-mode")?"light":"dark"},[n]);const o=()=>{requestAnimationFrame(()=>{t.postMessage({resize:{width:window.innerWidth,height:window.innerHeight}})})};new MutationObserver(()=>{const e=document.body.classList.contains("light-mode")?"light":"dark";t.postMessage({theme:e})}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("resize",o,!1)}catch(n){console.error("Failed to initialize OffscreenCanvas worker:",n),e&&(e.style.display="none")}else e&&(e.style.display="none"),console.warn("OffscreenCanvas or Web Workers not supported, hiding 3D background.")})}();
