/* ===========================
   THEME VARIABLES
   =========================== */
:root {
  --color-bg-body: #0A0A0A;
  --color-bg-section: rgba(26, 26, 26, 0.75);
  --color-text-primary: #E0E0E0;
  --color-text-heading: #FFFFFF;
  --color-border-default: #333;
  --color-modal-bg: #1A1A1A;
  --color-input-bg: #0A0A0A;
  --color-input-border: #777;
  --color-header-bg: rgba(10, 10, 10, 0.1);
  --color-header-sticky-bg: rgba(10, 10, 10, 0.4);
  --color-footer-bg: var(--color-bg-body);
  --color-footer-text: #A0A0A0;
  --color-footer-border: transparent;
  --color-accent-pink: #FF53AC;
  --color-accent-yellow: #EEFF41;
  --color-success: #28A745;
  --color-error: #FF4136;
}

body.light-mode {
  --color-bg-body: #F5F5F5;
  --color-bg-section: rgba(255, 255, 255, 0.75);
  --color-text-primary: #333333;
  --color-text-heading: #0A0A0A;
  --color-border-default: #CCCCCC;
  --color-modal-bg: #F0F0F0;
  --color-input-bg: #FFFFFF;
  --color-input-border: #BBBBBB;
  --color-header-bg: rgba(255, 255, 255, 0.1);
  --color-header-sticky-bg: rgba(255, 255, 255, 0.4);
  --color-footer-bg: var(--color-bg-body);
  --color-footer-text: #555555;
  --color-footer-border: transparent;
}

body.light-mode .text-\[\#EEFF41\] {
  color: var(--color-accent-pink) !important;
}

body.light-mode .mt-12.text-center.p-8.rounded-xl.shadow-xl.border .text-white {
  color: var(--color-text-primary) !important;
}

/* ===========================
   BASE / DESKTOP
   =========================== */
body {
  font-family: 'Libre Franklin', sans-serif;
  background-color: var(--color-bg-body);
  color: var(--color-text-primary);
  overflow-x: hidden;
  margin: 0;
  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
}

h1, h2, h3, h4 {
  font-weight: 800;
  color: var(--color-text-heading);
  transition: color 0.3s ease-in-out;
}

.text-emphasis-italic-bold {
  font-family: 'Libre Baskerville', serif;
  font-style: italic;
  font-weight: bold;
}

/* HEADER / NAV */
#main-header {
  background-color: var(--color-header-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition: all 0.3s ease-in-out;
}
#main-header.scrolled {
  background-color: var(--color-header-sticky-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 0.75rem;
  margin-top: 1rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  margin-left: auto;
  margin-right: auto;
  max-width: 72rem;
  top: 1rem;
}
.nav-link {
  color: var(--color-text-primary);
  transition: color 0.2s ease-in-out;
}
.nav-link:hover { color: var(--color-accent-pink); }
.nav-link.active {
  font-weight: 600;
  color: var(--color-text-heading);
  position: relative;
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.9),
               0 0 20px rgba(255, 255, 255, 0.7),
               0 0 30px rgba(255, 83, 172, 0.5);
}
.nav-link.active::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 100%;
  height: 2px;
  background-color: var(--color-accent-pink);
  border-radius: 2px;
  animation: underline-grow 0.3s forwards;
}
@keyframes underline-grow {
  from { transform: scaleX(0);}
  to { transform: scaleX(1);}
}
.nav-link.next-steps-active-style {
  background-color: var(--color-accent-yellow) !important;
  color: #1A1A1A !important;
  box-shadow: 0 0 15px rgba(238, 255, 65, 0.8),
              0 0 25px rgba(238, 255, 65, 0.6) !important;
  transform: scale(1.05);
  transition: all 0.3s ease-in-out;
}

/* BUTTONS */
.button-glow-pink {
  box-shadow: 0 0 10px rgba(255, 83, 172, 0.6),
              0 0 20px rgba(255, 83, 172, 0.4);
  transition: all 0.3s ease-in-out;
}
.button-glow-pink:hover {
  box-shadow: 0 0 15px rgba(255, 83, 172, 0.8),
              0 0 25px rgba(255, 83, 172, 0.6);
  transform: translateY(-2px);
}
.button-glow-cta {
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.6),
              0 0 20px rgba(255, 255, 255, 0.4);
  transition: all 0.3s ease-in-out;
}
.button-glow-cta:hover {
  box-shadow: 0 0 15px rgba(238, 255, 65, 0.8),
              0 0 25px rgba(238, 255, 65, 0.6);
  transform: translateY(-2px);
}

/* ANIMATIONS */
@keyframes pulseGlow {
  0%,100% {
    text-shadow: 0 0 7px rgba(255, 255, 255, 0.7),
                 0 0 14px rgba(255, 255, 255, 0.5),
                 0 0 20px rgba(255, 83, 172, 0.3),
                 0 0 30px rgba(255, 83, 172, 0.2);
  }
  50% {
    text-shadow: 0 0 14px rgba(255, 255, 255, 0.9),
                 0 0 20px rgba(255, 255, 255, 0.7),
                 0 0 30px rgba(255, 83, 172, 0.5),
                 0 0 45px rgba(255, 83, 172, 0.3);
  }
}
.hero-title-glow {
  animation: pulseGlow 3.5s infinite ease-in-out;
  text-shadow: 0 0 7px rgba(255, 255, 255, 0.7),
               0 0 14px rgba(255, 255, 255, 0.5);
}
.fade-in-up { opacity:0; transform: translateY(20px);}
.fade-in-up.is-visible {
  opacity:1; transform:translateY(0);
  transition:opacity 0.8s ease-out, transform 0.8s ease-out;
}
.fade-in-up.is-visible.delay-200ms { transition-delay:0.2s; }
.fade-in-up.is-visible.delay-400ms { transition-delay:0.4s; }

/* BACKGROUND */
#waving-dots-3d-background {
  position: fixed; top:0; left:0; width:100vw; height:100vh;
  z-index:-1; pointer-events:auto; background-color:var(--color-bg-body);
  display:block; transition: background-color 0.3s ease-in-out;
}
header, main, footer { position: relative; z-index: 1; }

/* SECTIONS */
#about, #process, .p-6.rounded-xl.shadow-lg.border {
  background-color:var(--color-bg-section);
  border-color:var(--color-border-default);
  backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);
  transition: background-color 0.3s ease-in-out,
              border-color 0.3s ease-in-out,
              backdrop-filter 0.3s ease-in-out;
}
.mt-12.text-center.p-8.rounded-xl.shadow-xl.border {
  background-color:var(--color-bg-body);
  border-color:var(--color-border-default);
  transition: background-color 0.3s ease-in-out, border-color 0.3s ease-in-out;
}

/* FOOTER */
.footer-logo { height:60px; width:auto;}
footer {
  background-color: var(--color-footer-bg);
  color: var(--color-footer-text);
  border-top:1px solid var(--color-footer-border);
  transition: background-color 0.3s ease-in-out,
              color 0.3s ease-in-out,
              border-color 0.3s ease-in-out;
}

/* UTILITIES */
#back-to-top {
  position: fixed; bottom: 20px; right: 20px;
  background-color: var(--color-accent-pink);
  color: white; padding: 10px 15px;
  border-radius: 9999px;
  display:flex; align-items:center; justify-content:center;
  font-size:1.5rem;
  box-shadow:0 4px 10px rgba(0,0,0,0.3);
  transition: background-color 0.3s ease-in-out,
              transform 0.2s ease-in-out,
              opacity 0.3s ease-in-out;
  z-index: 900; opacity:0; visibility:hidden;
}
#back-to-top:hover {
  background-color: var(--color-accent-yellow);
  color:#1A1A1A; transform:translateY(-2px);
}
#back-to-top.show { opacity:1; visibility:visible; }
#theme-toggle {
  position: fixed; bottom: 80px; right: 20px;
  background-color:transparent;
  border:1px solid var(--color-text-primary);
  color:var(--color-text-primary);
  padding:0.5rem 0.75rem;
  border-radius:9999px;
  font-size:1.25rem; font-weight:500;
  cursor:pointer;
  transition:all 0.3s ease-in-out;
  display:flex; align-items:center; justify-content:center;
  width:3rem; height:3rem; z-index:950;
  box-shadow:0 4px 10px rgba(0,0,0,0.3);
}
#theme-toggle:hover {
  background-color:var(--color-accent-pink);
  border-color:var(--color-accent-pink);
  color:white;
}

/* ===========================
   MOBILE / RESPONSIVE ADDITIONS
   =========================== */
@media (max-width: 767px) {
  #mobile-only-message {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: var(--color-bg-body);
    color: var(--color-text-primary);
    display: flex; align-items:center; justify-content:center;
    z-index: 2000;
  }
  header, main, footer, #back-to-top, #theme-toggle, #waving-dots-3d-background {
    display: none !important;
  }
}
html, body { width:100%; overflow-x:hidden;}
img, canvas, video { max-width:100%; height:auto;}
.container, .mx-auto, .max-w-6xl, .max-w-7xl {
  padding-left: clamp(12px, 4vw, 24px);
  padding-right: clamp(12px, 4vw, 24px);
}
@media (max-width: 1024px) {
  .two-col { display: block; }
  .two-col > * { width: 100% !important; max-width: 100% !important; }
  .media-right, .media-left { margin-top: 24px; }
  .figure, .media, .illustration { max-width: 560px; margin-left:auto; margin-right:auto; }
}
h1 { font-size: clamp(28px, 6vw, 56px); line-height: 1.1; }
h2 { font-size: clamp(22px, 4.5vw, 40px); line-height: 1.15; }
h3 { font-size: clamp(18px, 3.8vw, 28px); line-height: 1.2; }
p, li { font-size: clamp(15px, 2.9vw, 18px); line-height: 1.6; hyphens: auto; overflow-wrap: anywhere; }
.text-column { max-width: 68ch; margin: 0 auto; }

/* Mobile nav fixes */
@media (max-width: 768px) {
  #main-header { display:none; }
  .mobile-mini-nav {
    position: fixed; right:16px; bottom:16px;
    width:48px; height:48px; border-radius:9999px;
    background:var(--color-accent-pink); color:#fff; font-weight:700;
    box-shadow:0 8px 24px rgba(0,0,0,0.35);
    display:flex; align-items:center; justify-content:center;
    z-index:1100;
  }
  .mobile-mini-nav:active { transform: translateY(1px);}
  .mobile-drawer {
    position: fixed; top:0; right:0; height:100dvh; width:min(86vw, 360px);
    background:var(--color-bg-section); backdrop-filter: blur(10px);
    border-left:1px solid var(--color-border-default);
    z-index:1200; padding:20px;
    display:flex; flex-direction:column; gap:12px;
    animation: slideIn 0.25s ease-out both;
  }
  .mobile-drawer[hidden] { display:none!important; }
  .drawer-close { align-self:flex-end; background:transparent; color:var(--color-text-primary); font-size:28px; }
  .drawer-links { list-style:none; padding:0; margin:8px 0; display:flex; flex-direction:column; gap:12px; }
  .drawer-links a, .drawer-links button { color:var(--color-text-primary); font-size:18px; background:none; border:none; text-align:left; }
  @keyframes slideIn { from { transform: translateX(100%); opacity:0; } to { transform: translateX(0); opacity:1; } }
  #waving-dots-3d-background { pointer-events:none; height:100dvh; }
  #back-to-top, #theme-toggle { pointer-events:auto; }
}
